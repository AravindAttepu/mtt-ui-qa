<div class="mt-4 previous-paper row">
    <div class="previous-paper__tabs">
        <app-papers-menu-list (messageEvent)="onSelectTab($event)"></app-papers-menu-list>
    </div>
    <div class="previous-paper__questions container position-relative border animated fadeInLeft" *ngIf="data && data.value">
        
         <div class="d-flex justify-content-between align-items-center px-3 pt-2">
            <h2 class="primary-color f-22">{{data.value}}</h2>
            <div>
                <button *ngIf="!showAns" class="my-btn my-btn-primary" (click)="showPractice(data)" appEventTracker>Practice</button>
            </div>
        </div>
        <div class="previous-paper__answers" *ngIf="showAns">
            <h3 class="text-center">Answer Sheet</h3>
            <div class="previous-paper__answers-table row m-0">
                <ng-container *ngFor="let ans of ansSheets; let i = index;">
                    <div class="col-6 col-sm-4 previous-paper__answers-column" *ngIf="questions[i]">
                        {{i+1}}) {{practiceQuestions[i]?.ans}}
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="text-right my-3">            
            <ng-container *ngIf="showAns">
                <button class="m-r-8 my-btn  cancel-btn" (click)="cancelForm()">Cancel</button>
                <button class="my-btn my-btn-primary" (click)="submitForm()">Submit</button>
            </ng-container>
        </div>
        <ng-container *ngIf="!showAns">
            <div class="pl-3 pf-14" *ngFor="let item of questions; let i = index;">
                <p>{{i+1}}) <span [innerHtml]="item.question"></span></p>
            </div>
        </ng-container>
        <ng-container *ngIf="showAns">
            <div class="pl-3 pf-14" *ngFor="let item of practiceQuestions; let i = index;">
                <p>{{i+1}}) <span [innerHtml]="item.question"></span></p>
                <div  *ngIf="showAns"
                    [ngClass]="{'previous-paper__wrong-answer': isFormSubmitted && item.ans!= correctAnswers[i]}">
                   <div class="d-flex">
                       <span>Ans:</span>
                       <input type="text" [(ngModel)]="item.ans" numbersOnly pattern="^[0-9]+$"
                           class="form-control w-75 ml-2 previous-paper__text-area" 
                           [ngClass]="{'previous-paper__text-area--readonly': isFormSubmitted}" #question1="ngModel"/>
                   </div>
                    <p class="field-error m-0 pl-5 pb-2">
                        <span class="field-error-text" *ngIf="question1.errors?.pattern">Only digits (0-9) are allowed here.</span>
                    </p>
                </div>
                <div class="previous-paper__correct-answer" *ngIf="isFormSubmitted && item.ans!= correctAnswers[i]">
                    <span>Correct Ans:</span> {{correctAnswers[i]}}</div>
            </div>
        </ng-container> 
    </div>
</div>