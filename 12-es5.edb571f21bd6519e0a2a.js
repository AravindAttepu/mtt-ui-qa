function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var r=0;r<o.length;r++){var n=o[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,o,r){return o&&_defineProperties(e.prototype,o),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{X3zk:function(e,o,r){"use strict";r.r(o),r.d(o,"LoginModule",(function(){return P}));var n=r("ofXK"),t=r("3Pt+"),i=r("fXoL"),c=r("yTNM"),s=r("tyNb");function a(e,o){if(1&e&&(i.Lc(0,"div",21),i.Lc(1,"span"),i.zd(2),i.Kc(),i.Kc()),2&e){var r=i.Zc();i.rc(2),i.Bd("\u26a0\ufe0f ",r.loginError,"")}}function g(e,o){if(1&e&&(i.Lc(0,"div",22),i.zd(1),i.Kc()),2&e){var r=i.Zc();i.rc(1),i.Bd(" ",r.fieldErrors.userName," ")}}function l(e,o){if(1&e&&(i.Lc(0,"div",22),i.zd(1),i.Kc()),2&e){var r=i.Zc();i.rc(1),i.Bd(" ",r.fieldErrors.password," ")}}function m(e,o){1&e&&(i.Lc(0,"span"),i.zd(1,"SIGN IN"),i.Kc())}function d(e,o){1&e&&(i.Lc(0,"span"),i.zd(1,"SIGN IN..."),i.Kc())}var u,f,p=((f=function(){function e(o,r,n){_classCallCheck(this,e),this.apiService=o,this.fb=r,this.router=n,this.isAPILoading=!1,this.loginError="",this.fieldErrors={userName:"",password:""},localStorage.clear(),this.apiService.setToken("")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.initForm(),this.loginForm.valueChanges.subscribe((function(){e.loginError="",e.fieldErrors={userName:"",password:""}}))}},{key:"login",value:function(){var e=this;try{if(this.loginError="",this.fieldErrors={userName:"",password:""},!this.loginForm.value.userName||""===this.loginForm.value.userName.trim())return void(this.fieldErrors.userName="Please enter your username");if(!this.loginForm.value.password||""===this.loginForm.value.password.trim())return void(this.fieldErrors.password="Please enter your password");if(this.loginForm.invalid)return void(this.loginError="Please fill in all required fields");localStorage.clear(),this.isAPILoading=!0,this.apiService.showLoader.next(!0),this.apiService.login(this.loginForm.value).subscribe((function(o){if(e.apiService.showLoader.next(!1),e.isAPILoading=!1,o.status&&200===o.status){var r=JSON.parse(o.body)||{},n=r.roles&&r.roles.assignedRoles?r.roles.assignedRoles:"",t=r.roles&&r.roles.allRoles&&"string"==typeof r.roles.allRoles?JSON.parse(r.roles.allRoles||"[]"):[];localStorage.setItem("allRoles",JSON.stringify(t)),e.apiService.setAllRole(t),localStorage.setItem("adminUser",o.body),localStorage.setItem("userName",r.roles.userName);var i=o.headers.get("auth_token");localStorage.setItem("auth_token",i),localStorage.setItem("role",n),e.apiService.setUserDetails(r),e.apiService.setToken(i),e.apiService.setRole(n),n.indexOf("STUDENT")>-1?e.router.navigate(["./student"]):e.router.navigate(["/admin"])}if(o&&"string"==typeof o){var c=JSON.parse(o);c&&c.message&&(e.apiService.genericMessage(c.message,"success"),e.login())}}),(function(o){e.apiService.showLoader.next(!1),e.isAPILoading=!1,401===o.status||403===o.status?(e.loginError="Invalid username or password. Please try again.",e.fieldErrors.userName="Check your username",e.fieldErrors.password="Check your password"):o.error&&o.error.message?(e.loginError=o.error.message,e.apiService.genericMessage(o.error.message||"Something went wrong","error")):e.loginError="Unable to login. Please check your credentials and try again.",console.log(o)}))}catch(o){this.isAPILoading=!1,this.loginError="An unexpected error occurred. Please try again.",console.warn(o)}}},{key:"initForm",value:function(){this.loginForm=this.fb.group({userName:[null,t.t.required],password:[null,t.t.required]})}}]),e}()).\u0275fac=function(e){return new(e||f)(i.Fc(c.a),i.Fc(t.c),i.Fc(s.c))},f.\u0275cmp=i.zc({type:f,selectors:[["app-login"]],decls:31,vars:11,consts:[[1,"login-page"],[1,"login-page__overlay","row","m-0"],[1,"login-page__logo"],[1,"login-page__text"],["href","/home",2,"text-decoration","underline"],["src","assets/images/sadisha_logo.png",1,"w-100"],[1,"col-md-6","text-sm-center","d-flex","login-page__left","animated","bounceInLeft"],[1,"col-md-6","d-flex","login-page__right"],[3,"formGroup","submit"],[1,"login-page__form","card","m-r-32","animated","bounceInDown"],[1,"login-page__sub-header"],["class","login-page__error-message",4,"ngIf"],[1,"login-page__form-group"],["type","text","formControlName","userName","placeholder","Enter your user name",1,"form-control"],["class","login-page__field-error",4,"ngIf"],["type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"m-t-28","text-center"],["type","submit",1,"my-btn","my-btn-primary","w-100",3,"disabled"],[4,"ngIf"],[1,"text-center","m-t-20","f-l","pointer"],["routerLink","/login/forgot-psw"],[1,"login-page__error-message"],[1,"login-page__field-error"]],template:function(e,o){1&e&&(i.Lc(0,"div",0),i.Lc(1,"div",1),i.Lc(2,"div",2),i.Lc(3,"div",3),i.Lc(4,"a",4),i.zd(5,"\u2190 Back to Home "),i.Kc(),i.Kc(),i.Gc(6,"img",5),i.Kc(),i.Gc(7,"div",6),i.Lc(8,"div",7),i.Lc(9,"form",8),i.Xc("submit",(function(){return o.login()})),i.Lc(10,"div",9),i.Lc(11,"h6",10),i.zd(12,"Login in to continue."),i.Kc(),i.xd(13,a,3,1,"div",11),i.Lc(14,"div",12),i.Lc(15,"label"),i.zd(16," User Name"),i.Kc(),i.Gc(17,"input",13),i.xd(18,g,2,1,"div",14),i.Kc(),i.Lc(19,"div",12),i.Lc(20,"label"),i.zd(21," Password"),i.Kc(),i.Gc(22,"input",15),i.xd(23,l,2,1,"div",14),i.Kc(),i.Lc(24,"div",16),i.Lc(25,"button",17),i.xd(26,m,2,0,"span",18),i.xd(27,d,2,0,"span",18),i.Kc(),i.Kc(),i.Lc(28,"div",19),i.Lc(29,"a",20),i.zd(30," Forgot Password "),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc()),2&e&&(i.rc(9),i.fd("formGroup",o.loginForm),i.rc(4),i.fd("ngIf",o.loginError),i.rc(4),i.wc("error-field",o.fieldErrors.userName),i.rc(1),i.fd("ngIf",o.fieldErrors.userName),i.rc(4),i.wc("error-field",o.fieldErrors.password),i.rc(1),i.fd("ngIf",o.fieldErrors.password),i.rc(2),i.fd("disabled",o.isAPILoading),i.rc(1),i.fd("ngIf",!o.isAPILoading),i.rc(1),i.fd("ngIf",o.isAPILoading))},directives:[t.v,t.l,t.e,n.l,t.b,t.k,t.d,s.f],styles:[".login-page[_ngcontent-%COMP%]{background-image:url(https://drive.google.com/thumbnail?id=10xJiS27dxcoss8XesBhNBQ3O9rElhDnd);background-repeat:no-repeat;background-size:cover;min-height:100vh;background-position:50%}.login-page__logo[_ngcontent-%COMP%]{position:absolute;top:50px;left:50px;border-radius:10px;max-width:130px}.login-page__text[_ngcontent-%COMP%]{font-size:17px;padding-bottom:20px}.login-page__overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);height:100vh;display:flex;justify-content:center;align-items:center;color:#fff}.login-page__left[_ngcontent-%COMP%], .login-page__right[_ngcontent-%COMP%]{justify-content:flex-end}.login-page__sub-header[_ngcontent-%COMP%]{font-family:myFontsLight}.login-page__form[_ngcontent-%COMP%]{color:#212529;width:25rem;padding:1.5rem}.login-page__error-message[_ngcontent-%COMP%], .login-page__forgot-sec[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.login-page__error-message[_ngcontent-%COMP%]{background-color:#fee;border:1px solid #f88;border-radius:4px;padding:.75rem;margin-bottom:1rem;color:#c33}.login-page__error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.login-page__field-error[_ngcontent-%COMP%]{color:#d32f2f;font-size:.75rem;margin-top:.25rem;font-family:myFontsLight}.login-page__form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.login-page__form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.login-page__form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem 1rem}.login-page__form-group[_ngcontent-%COMP%]   .form-control.error-field[_ngcontent-%COMP%]{border-color:#d32f2f;border-width:2px}.login-page__form-group[_ngcontent-%COMP%]   .form-control.error-field[_ngcontent-%COMP%]:focus{border-color:#d32f2f;box-shadow:0 0 0 .2rem rgba(211,47,47,.25)}.login-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem;font-family:myFontsLight;min-height:2.8125rem}@media (max-width:768px){.login-page__right[_ngcontent-%COMP%]{justify-content:center}.login-page__form[_ngcontent-%COMP%]{width:100%}.login-page__form-group[_ngcontent-%COMP%]{margin-bottom:.5rem}.login-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:2.5rem}.login-page[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{overflow-x:hidden}}"]}),f),_=((u=function(){function e(o){_classCallCheck(this,e),this.fb=o}return _createClass(e,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"login",value:function(){console.log("loggin in",this.signupForm.value)}},{key:"initForm",value:function(){this.signupForm=this.fb.group({userName:[null,t.t.required],email:[null,t.t.required],password:[null,t.t.required],confirmPassword:[null,t.t.required]})}}]),e}()).\u0275fac=function(e){return new(e||u)(i.Fc(t.c))},u.\u0275cmp=i.zc({type:u,selectors:[["app-sign-up"]],decls:47,vars:1,consts:[[1,"signup-page"],[1,"signup-page__overlay","row","m-0"],[1,"col-md-6","text-sm-center","d-flex","signup-page__left","animated","bounceInLeft"],[1,"white-color"],[1,"primary-color"],[1,"col-md-6","d-flex","signup-page__right"],[3,"formGroup"],[1,"signup-page__form","card","m-r-32","animated","bounceInDown"],["src","/assets/images/sadisha.png"],[1,"signup-page__header"],[1,"signup-page__sub-header"],[1,"signup-page__form-group"],["type","text","formControlName","userName","placeholder","Enter your user name",1,"form-control"],["type","email","formControlName","email","placeholder","Enter your Email ID",1,"form-control"],["type","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","password","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],[1,"m-t-28","text-center"],["type","button",1,"my-btn","my-btn-primary","w-100",3,"click"],[1,"row","m-t-20","signup-page__forgot-sec","no-gutters"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","termsAndCondition",1,"custom-control-input"],["for","termsAndCondition",1,"custom-control-label"],["routerLink","/terms-and-conditions"],[1,"text-center","m-t-20","f-l"],["routerLink","/"]],template:function(e,o){1&e&&(i.Lc(0,"div",0),i.Lc(1,"div",1),i.Lc(2,"div",2),i.Lc(3,"h1",3),i.zd(4,"Hello! Doctor "),i.Lc(5,"span",4),i.zd(6,"Sign up"),i.Kc(),i.zd(7," to manage "),i.Kc(),i.Kc(),i.Lc(8,"div",5),i.Lc(9,"form",6),i.Lc(10,"div",7),i.Gc(11,"img",8),i.Lc(12,"h4",9),i.zd(13,"New here?"),i.Kc(),i.Lc(14,"h6",10),i.zd(15,"Signing up is easy. It only takes a few step"),i.Kc(),i.Lc(16,"div",11),i.Lc(17,"label"),i.zd(18," User Name"),i.Kc(),i.Gc(19,"input",12),i.Kc(),i.Lc(20,"div",11),i.Lc(21,"label"),i.zd(22," Email ID"),i.Kc(),i.Gc(23,"input",13),i.Kc(),i.Lc(24,"div",11),i.Lc(25,"label"),i.zd(26," Password"),i.Kc(),i.Gc(27,"input",14),i.Kc(),i.Lc(28,"div",11),i.Lc(29,"label"),i.zd(30," Confirm Password"),i.Kc(),i.Gc(31,"input",15),i.Kc(),i.Lc(32,"div",16),i.Lc(33,"button",17),i.Xc("click",(function(){return o.login()})),i.zd(34,"SIGN UP"),i.Kc(),i.Kc(),i.Lc(35,"div",18),i.Lc(36,"div",19),i.Gc(37,"input",20),i.Lc(38,"label",21),i.Lc(39,"span"),i.zd(40,"I agree to all "),i.Lc(41,"a",22),i.zd(42,"Terms & Conditions"),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Lc(43,"div",23),i.zd(44," Already have an account? "),i.Lc(45,"a",24),i.zd(46," Login "),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc()),2&e&&(i.rc(9),i.fd("formGroup",o.signupForm))},directives:[t.v,t.l,t.e,t.b,t.k,t.d,s.f],styles:[".signup-page[_ngcontent-%COMP%]{background-image:url(/assets/images/mobile-login.jpg);background-repeat:no-repeat;background-size:cover}.signup-page__overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);height:100vh;display:flex;justify-content:center;align-items:center;color:#fff}.signup-page__left[_ngcontent-%COMP%], .signup-page__right[_ngcontent-%COMP%]{justify-content:flex-end}.signup-page__sub-header[_ngcontent-%COMP%]{font-family:myFontsLight}.signup-page__form[_ngcontent-%COMP%]{color:#212529;width:25rem;padding:1.5rem}.signup-page__forgot-sec[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.signup-page__form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.signup-page__form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.signup-page__form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem 1rem}.signup-page[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem;font-family:myFontsLight;min-height:2.8125rem}"]}),u),h=r("PCNd"),b=r("OXpz");function v(e,o){1&e&&(i.Lc(0,"span"),i.zd(1," Please Enter Mobile Number "),i.Kc())}function y(e,o){1&e&&(i.Lc(0,"span"),i.zd(1," Please Enter Valid Mobile Number "),i.Kc())}var L,w,C=[{path:"",component:p},{path:"signup",component:_},{path:"forgot-psw",component:(L=function(){function e(o,r,n){_classCallCheck(this,e),this.apiService=o,this.fb=r,this.router=n,this.formSubmitted=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.forgotForm=this.fb.group({phoneNumber:[null,t.t.required]})}},{key:"submit",value:function(){var e=this;try{if(this.formSubmitted=!0,!this.forgotForm.value.phoneNumber||this.forgotForm.value.phoneNumber.length<10)return;this.apiService.showLoader.next(!0),this.apiService.forgotPsw(this.forgotForm.value.phoneNumber).subscribe((function(o){if(o&&"string"==typeof o){var r=JSON.parse(o);r&&r.message&&(console.log(r.message),e.apiService.showLoader.next(!1),e.apiService.genericMessage(r.message,"success"),e.router.navigate(["/login"]))}}),(function(o){e.apiService.showLoader.next(!1),e.apiService.genericMessage(o.error&&o.error.message?o.error.message||"something went wrong":"Did not find any student with this mobile number","error"),console.log(o)}))}catch(o){console.warn(o)}}}]),e}(),L.\u0275fac=function(e){return new(e||L)(i.Fc(c.a),i.Fc(t.c),i.Fc(s.c))},L.\u0275cmp=i.zc({type:L,selectors:[["app-forgot-psw"]],decls:27,vars:3,consts:[[1,"forgot-psw"],[1,"forgot-psw__overlay","row","m-0"],[1,"col-md-6","text-sm-center","d-flex","forgot-psw__left","animated","bounceInLeft"],[1,"white-color"],[1,"primary-color"],[1,"col-md-6","d-flex","forgot-psw__right"],[3,"formGroup","submit"],[1,"forgot-psw__form","card","m-r-32","animated","bounceInDown"],[1,"forgot-psw__header"],[1,"forgot-psw__form-group"],["type","text","numbersOnly","","maxlength","10","minlength","10","formControlName","phoneNumber","placeholder","Enter your mobile number",1,"form-control"],[1,"f-14","error-message"],[4,"ngIf"],[1,"m-t-28","text-center"],["type","submit",1,"my-btn","my-btn-primary","w-100"],[1,"text-center","m-t-20","f-l","pointer"],["routerLink","/login"]],template:function(e,o){if(1&e&&(i.Lc(0,"div",0),i.Lc(1,"div",1),i.Lc(2,"div",2),i.Lc(3,"h1",3),i.zd(4,"Enter your "),i.Lc(5,"span",4),i.zd(6,"mobile number "),i.Kc(),i.zd(7," to retrieve username/password! "),i.Kc(),i.Kc(),i.Lc(8,"div",5),i.Lc(9,"form",6),i.Xc("submit",(function(){return o.submit()})),i.Lc(10,"div",7),i.Lc(11,"h4",8),i.zd(12,"Forgot Password"),i.Kc(),i.Lc(13,"div",9),i.Lc(14,"label"),i.zd(15," Mobile Number"),i.Kc(),i.Gc(16,"input",10),i.Lc(17,"div",11),i.xd(18,v,2,0,"span",12),i.xd(19,y,2,0,"span",12),i.Kc(),i.Kc(),i.Lc(20,"div",13),i.Lc(21,"button",14),i.zd(22,"SUBMIT"),i.Kc(),i.Kc(),i.Lc(23,"div",15),i.zd(24," Already have an account? "),i.Lc(25,"a",16),i.zd(26," Login "),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc()),2&e){var r=null,n=(o.forgotForm.get("phoneNumber").touched||o.formSubmitted)&&(null==(r=o.forgotForm.get("phoneNumber"))||null==r.value?null:r.value.length)>0&&(null==(r=o.forgotForm.get("phoneNumber"))||null==r.value?null:r.value.length)<10;i.rc(9),i.fd("formGroup",o.forgotForm),i.rc(9),i.fd("ngIf",(o.forgotForm.get("phoneNumber").touched||o.formSubmitted)&&o.forgotForm.get("phoneNumber").hasError("required")),i.rc(1),i.fd("ngIf",n)}},directives:[t.v,t.l,t.e,b.a,t.b,t.g,t.h,t.k,t.d,n.l,s.f],styles:[".forgot-psw[_ngcontent-%COMP%]{background-image:url(https://drive.google.com/thumbnail?id=10xJiS27dxcoss8XesBhNBQ3O9rElhDnd);background-repeat:no-repeat;background-size:cover;min-height:100vh;background-position:50%}.forgot-psw__overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);height:100vh;display:flex;justify-content:center;align-items:center;color:#fff}.forgot-psw__left[_ngcontent-%COMP%], .forgot-psw__right[_ngcontent-%COMP%]{justify-content:flex-end}.forgot-psw__sub-header[_ngcontent-%COMP%]{font-family:myFontsLight}.forgot-psw__form[_ngcontent-%COMP%]{color:#212529;width:25rem;padding:1.5rem}.forgot-psw__forgot-sec[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.forgot-psw__form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.forgot-psw__form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:myFontsLight;font-size:.875rem}.forgot-psw__form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem 1rem}.forgot-psw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem;font-family:myFontsLight;min-height:2.8125rem}"]}),L)}],P=((w=function e(){_classCallCheck(this,e)}).\u0275mod=i.Dc({type:w}),w.\u0275inj=i.Cc({factory:function(e){return new(e||w)},imports:[[n.b,s.g.forChild(C),t.r,t.f,h.a]]}),w)}}]);